var RELAY_ORG=function(){function n(){return DP_AUTH.jso().ajax({url:DP_AUTH.config().api_endpoints.relay+"org/"+DATAPORTEN.user().org.id+"/diskusage/",dataType:"json"}).pipe(function(n){return n.data}).fail(function(n,r,e){UTILS.alertError("Relay API (diskusage):","Finner ingen lagringspunkt for org <code>"+DATAPORTEN.user().org.id+"</code>")})}function r(){return DP_AUTH.jso().ajax({url:DP_AUTH.config().api_endpoints.relay+"org/"+DATAPORTEN.user().org.id+"/presentations/",dataType:"json"}).pipe(function(n){return n.data}).fail(function(n,r,e){UTILS.alertError("Relay API (presentations):","Finner ingen presentasjoner for org  <code>"+DATAPORTEN.user().org.id+"</code>")})}function e(){return DP_AUTH.jso().ajax({url:DP_AUTH.config().api_endpoints.relay+"org/"+DATAPORTEN.user().org.id+"/presentations/count/",dataType:"json"}).pipe(function(n){return n.data}).fail(function(n,r,e){UTILS.alertError("Relay API (presentations):","Finner ingen presentasjoner for org  <code>"+DATAPORTEN.user().org.id+"</code>")})}function o(){return DP_AUTH.jso().ajax({url:DP_AUTH.config().api_endpoints.relay+"org/"+DATAPORTEN.user().org.id+"/users/",dataType:"json"}).pipe(function(n){return n.data}).fail(function(n,r,e){UTILS.alertError("Relay API (users):","Finner ingen brukere for org <code>"+DATAPORTEN.user().org.id+"</code>")})}function i(n){return DP_AUTH.jso().ajax({url:DP_AUTH.config().api_endpoints.relay+"org/"+DATAPORTEN.user().org.id+"/user/"+n+"/",dataType:"json"}).pipe(function(n){return n.data}).fail(function(r,e,o){UTILS.alertError("Finner ikke bruker","Finner ikke bruker <code>"+n+"</code>")})}function t(n,r){return DP_AUTH.jso().ajax({url:DP_AUTH.config().api_endpoints.relay+"org/"+DATAPORTEN.user().org.id+"/user/"+n+"/presentations/",dataType:"json"}).pipe(function(n){return n.data}).fail(function(e,o,i){r&&UTILS.alertError("Finner ikke innhold","Finner ikke noe innhold for bruker <code>"+n+"</code>")})}var a,u,s,T;return function(){$.when(DATAPORTEN.readyUser()).done(function(){$.when(KIND.ready()).done(function(){(DATAPORTEN.isSuperAdmin()||DATAPORTEN.isOrgAdmin())&&(a=n(),u=o(),s=r(),T=e())})})}(),{diskUsage:function(){return!DATAPORTEN.isOrgAdmin()||a},presentations:function(){return s},presentationCount:function(){return T},user:function(n){return!DATAPORTEN.isOrgAdmin()||i(n)},userContent:function(n,r){return!DATAPORTEN.isOrgAdmin()||t(n,r)},users:function(){return!DATAPORTEN.isOrgAdmin()||u}}}();