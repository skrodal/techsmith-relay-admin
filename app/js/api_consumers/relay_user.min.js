var RELAY_USER=function(){function e(){return DP_AUTH.jso().ajax({url:DP_AUTH.config().api_endpoints.relay+"me/",dataType:"json"}).pipe(function(e){return e.data}).fail(function(e,n,t){return UTILS.showAuthInfo("TechSmith Relay Bruker",RELAY_USER.hasAccount()),!1})}function n(){return DP_AUTH.jso().ajax({url:DP_AUTH.config().api_endpoints.relay+"me/presentations/",dataType:"json"}).pipe(function(e){return f=e.data.length>0,e.data}).fail(function(e,n,t){UTILS.notify({icon:"ion-android-cancel",iconcolor:"red",delay:1e4,title:"OPS!",message:"En feil oppstod: Fikk ikke hentet dine presentasjoner. Min Relay vil ikke fungere."})})}function t(){return DP_AUTH.jso().ajax({url:DP_AUTH.config().api_endpoints.relay+"me/diskusage/",dataType:"json"}).pipe(function(e){return e.data.storage}).fail(function(e,n,t){UTILS.notify({icon:"ion-android-cancel",iconcolor:"red",delay:1e4,title:"OPS!",message:"En feil oppstod: Fikk ikke tak i all informasjon om ditt innhold."})})}function o(){return DP_AUTH.jso().ajax({url:DP_AUTH.config().api_endpoints.relay+"me/presentations/deletelist/all/",dataType:"json"}).pipe(function(e){return!!e.status&&e.data}).fail(function(e,n,t){UTILS.notify({icon:"ion-android-cancel",iconcolor:"red",delay:1e4,title:"OPS!",message:"En feil oppstod: Fikk ikke hentet dine presentasjoner. Min Relay vil ikke fungere."})})}function i(e){return DP_AUTH.jso().ajax({url:DP_AUTH.config().api_endpoints.relay+"me/presentation/deletelist/delete/",type:"POST",contentType:"application/json",data:JSON.stringify({presentation:{username:DATAPORTEN.user().username,path:e}})}).done(function(e,n,t){UTILS.notify({icon:"ion-trash-a",iconcolor:"indianred",title:"Presentasjon vil slettes",message:"Presentasjonen vil slettes kl. 03:00"})}).fail(function(e,n,t){UTILS.notify({icon:"ion-android-cancel",iconcolor:"red",delay:1e4,title:"OPS!",message:"En feil oppstod: <code>"+e.responseJSON.message+"</code>"})}).always(function(){})}function a(e){return DP_AUTH.jso().ajax({url:DP_AUTH.config().api_endpoints.relay+"me/presentation/deletelist/restore/",type:"POST",contentType:"application/json",data:JSON.stringify({presentation:{username:DATAPORTEN.user().username,path:e}})}).done(function(e,n,t){UTILS.notify({icon:"ion-ios-checkmark",iconcolor:"green",title:"Sletting kansellert",message:"Presentasjonen vil ikke lenger bli slettet"})}).fail(function(e,n,t){UTILS.notify({icon:"ion-android-cancel",iconcolor:"red",delay:1e4,title:"OPS!",message:"En feil oppstod: <code>"+e.responseJSON.message+"</code>"})}).always(function(){})}function r(e){return DP_AUTH.jso().ajax({url:DP_AUTH.config().api_endpoints.relay+"me/presentation/deletelist/undelete/",type:"POST",contentType:"application/json",data:JSON.stringify({presentation:{username:DATAPORTEN.user().username,path:e}})}).done(function(e,n,t){UTILS.notify({icon:"ion-ios-checkmark",iconcolor:"green",title:"Sletting kansellert",message:"Presentasjonen vil bli gjenopprettet snart"})}).fail(function(e,n,t){UTILS.notify({icon:"ion-android-cancel",iconcolor:"red",delay:1e4,title:"OPS!",message:"En feil oppstod: <code>"+e.responseJSON.message+"</code>"})}).always(function(){})}var s,c,l,u=$.Deferred(),d=!1,f=!1;return function(){$.when(DATAPORTEN.readyUser().done(function(){s=e(),$.when(s).done(function(e){e!==!1&&(d=!0,UTILS.updateAuthProgress("TechSmith Relay Bruker"),UTILS.showAuthInfo("TechSmith Relay Bruker",RELAY_USER.hasAccount()),c=n(),l=t(),$.when(c,l).done(function(e,n){u.resolve()}))})}))}(),{ready:function(){return u},accountXHR:function(){return s},contentXHR:function(){return c},diskusageXHR:function(){return l},hasAccount:function(){return d},hasContent:function(){return f},getPresentationsDeleteListXHR:function(){return o()},getDeletedPresentationsXHR:function(){return _presDeleteGetDeletedXHR()},getMovedPresentationsXHR:function(){return _presDeleteGetMovedXHR()},getNotYetMovedPresentationsXHR:function(){return _presDeleteGetNotYetMovedXHR()},deletePresentationXHR:function(e){return i(e)},removePresentationXHR:function(e){return a(e)},undeletePresentationXHR:function(e){return r(e)}}}();